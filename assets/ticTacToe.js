import"./modulepreload-polyfill.js";window.addEventListener(`load`,u);var e=document.getElementById(`board`),t=document.getElementById(`modal`),n=document.getElementsByClassName(`reset`);for(let e of n)e.addEventListener(`click`,function(){t.classList.contains(`hidden`)||t.classList.add(`hidden`),u()});e.addEventListener(`click`,function(e){let t=e.target.classList,n=e.target.dataset;t.contains(`field`)&&!t.contains(`busy`)&&f(n.row,n.col)});function r(e){let n=t.getElementsByTagName(`h2`)[0];n.textContent=`üçæ –ü–æ–±–µ–¥–∏–ª –∏–≥—Ä–æ–∫ ‚Ññ${e+1}! üçæ`,t.classList.remove(`hidden`)}function i(t){let n=[];for(let[e,r]of t.entries())for(let[t,i]of r.entries())n.push(`
        <div class="field ${i?`busy`:`free`}" 
            data-row="${e}" 
            data-col="${t}"
            style="grid-row:${e+1};grid-column:${t+1};"
        >
          ${i||``}
        </div>
      `);e.innerHTML=n.join(``)}var a,o,s,c,l=[`x`,`o`];function u(){for(;!(Number.isInteger(o)&&o>2&&o<12);)o=+prompt(`–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –º–∞—Ç—Ä–∏—Ü—ã –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è (–æ—Ç 3 –¥–æ 11)`,``);for(;!(a===0||a===1);)a=l.indexOf(prompt(`–í–≤–µ–¥–∏—Ç–µ –∏–≥—Ä–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞, –Ω–∞—á–∏–Ω–∞—é—â–µ–≥–æ –∏–≥—Ä—É (x,o)`,``));d(o),i(s);let e=document.querySelector(`.field`);c=Math.floor(e.clientWidth*.8)}function d(e){return s=Array.apply(null,Array(e)).map(t=>Array(e)).map((e,t,n)=>n.map((e,t)=>e[t]=``))}function f(e,t){s[e][t]=l[a],i(s),document.querySelectorAll(`.field.busy`).forEach(e=>e.style.fontSize=`${c}px`),p(s,a)?r(a):a^=1}function p(e,t){class n{constructor(e,t){this.arrmap=Array.apply(null,Array(o)).map(e=>!0).join(` `),this.matrix=e,this.gameSign=l[t],this.even=e=>e.join(` `)===this.arrmap,this.even1=(e,t,n)=>n.join(` `)===this.arrmap}line(){let e=this.matrix.map((e,t,n)=>n[t].map((e,t,n)=>n[t].includes(this.gameSign)));return e.some(this.even)?e.some(this.even):e}column(){let e=r.line().map((e,t)=>r.line().map(e=>e[t]).reverse());return e.some(this.even)?e.some(this.even):e}diogonal(){let e=[];return r.line().filter((t,n,r)=>e.push(...t.slice(n,n+1))),e.some(this.even1)?e.some(this.even1):e}sideDiagonal(){let e=[];return r.column().filter((t,n,r)=>e.push(...t.slice(n,n+1))),e.some(this.even1)?e.some(this.even1):!1}}let r=new n(e,t);if(r.line()==1||r.column()==1||r.diogonal()==1||r.sideDiagonal()==1)return!0}