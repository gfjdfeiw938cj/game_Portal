import"./modulepreload-polyfill.js";var e=document.getElementById(`main-menu`),t=document.getElementById(`settings-panel`),n=document.getElementById(`game-controls`),r=document.getElementById(`board`),i=document.getElementById(`modal`),a=document.getElementById(`start-game-btn`),o=document.getElementById(`exit-btn`),s=document.getElementById(`back-to-menu`),c=document.getElementById(`to-menu`),l=document.getElementsByClassName(`reset`),u=document.getElementById(`game-settings-form`),d=document.getElementById(`board-size`),f=document.getElementById(`first-player`);a.addEventListener(`click`,()=>{e.classList.add(`hidden`),t.classList.remove(`hidden`)}),o.addEventListener(`click`,()=>{window.location.href=`../../index.html`}),s.addEventListener(`click`,()=>{t.classList.add(`hidden`),e.classList.remove(`hidden`)}),c.addEventListener(`click`,()=>{p(),e.classList.remove(`hidden`),n.classList.add(`hidden`),r.classList.add(`hidden`)}),u.addEventListener(`submit`,e=>{e.preventDefault(),x(parseInt(d.value),parseInt(f.value)),t.classList.add(`hidden`),r.classList.remove(`hidden`),n.classList.remove(`hidden`)});for(let e of l)e.addEventListener(`click`,()=>{i.classList.contains(`hidden`)||i.classList.add(`hidden`),p(),x(parseInt(d.value),parseInt(f.value)),r.classList.remove(`hidden`),n.classList.remove(`hidden`)});r.addEventListener(`click`,e=>{let t=e.target.classList,n=e.target.dataset;t.contains(`field`)&&!t.contains(`busy`)&&C(n.row,n.col)});function p(){r.innerHTML=``,i.classList.add(`hidden`),n.classList.add(`hidden`),r.classList.add(`hidden`)}function m(e){let t=i.getElementsByTagName(`h2`)[0];t.textContent=`üçæ –ü–æ–±–µ–¥–∏–ª –∏–≥—Ä–æ–∫ ‚Ññ${e+1}! üçæ`,i.classList.remove(`hidden`)}function h(e){let t=[];for(let[n,r]of e.entries())for(let[e,i]of r.entries())t.push(`
                <div class="field ${i?`busy`:`free`}"
                     data-row="${n}"
                     data-col="${e}"
                     style="grid-row:${n+1};grid-column:${e+1};"
                >
                    ${i||``}
                </div>
            `);r.innerHTML=t.join(``)}var g,_,v,y,b=[`x`,`o`];function x(e,t){_=e,g=t,v=S(_),h(v);let n=document.querySelector(`.field`);n&&(y=Math.floor(n.clientWidth*.8))}function S(e){return Array(e).fill().map(()=>Array(e).fill(``))}function C(e,t){v[e][t]=b[g],h(v),document.querySelectorAll(`.field.busy`).forEach(e=>{e.style.fontSize=`${y}px`}),w(v,g)?m(g):g^=1}function w(e,t){let n=b[t],r=e.length;for(let t=0;t<r;t++)if(e[t].every(e=>e===n))return!0;for(let t=0;t<r;t++)if(e.every(e=>e[t]===n))return!0;return!!(e.every((e,t)=>e[t]===n)||e.every((e,t)=>e[r-1-t]===n))}